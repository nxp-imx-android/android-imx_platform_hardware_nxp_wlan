This vendor hal is compatible with wlan HIDL 1.2/1.3/1.4.
HAL code can support Android Q,R.


ChangeLog

2023-Mar-3 - v009.010

  *Fixes added for legacy HAL (android 8. 9) crash

2023-16-2 - v009.009

  *Support for PCIE Inband Reset
    - Add support for PCIE IR.
      VHAL will trigger SDIO/PCIE IR based on NXP_EVENT_DRIVER_HANG received
      from driver. NXP_EVENT_DRIVER_HANG is modified  to send fw_reload mode
      (SDIO-IR/PCIE-IR/PCIE-FLR). Based on mode received from driver,
      vhal triggers fw_reload.
      SUPPORT_INBAND_IR is changed to SUPPORT_FW_RELOAD
      [By Default SUPPORT_FW_RELOAD is enabled in VHAL common.h file.
       To disable, define it to false]
      Tested on PCIE9098.

2022-2-12 - v009.008

  *Support for wacp_mode command
    - Add VHAL support to get/set wacp_mode.
      Same as getchload, the feature is disabled by default to
      avoid the compilation error with the products that does not
      support this feature.
      Same can be enabled by using NXP_VHAL_PRIV_CMD flag in
      device specific path.

2022-3-11 - v009.006

  *Support for getchload command
    - Add VHAL support to get channel load information for given
      interface and duration. Duration is optional, The default
      duration value is 100ms.
      The feature is disabled by default to avoid the compilation
      error with the products that does not support this feature.
      Same can be enabled by using NXP_VHAL_PRIV_CMD flag in
      device specific path.
      This feature also requires to add sepolicy rules for
      VHAL to allow create and execute private ioctls.

2022-14-10 - v009.005

  *Support for fw auto reload events
    -In fw auto reload feature, driver sends the event to vhal to make interface up,
	 so added event handlers to check wifi status and make interface up.

  *Fixed Coverity defects.

2021-21-10 - v008.006

  *Support to limit number of fw dumps(Default:255)
    -Everytime fw/driver hangs, fw_dump is generated. This takes up
     space in memory and multiple such dumps may cause rootfs overflow.
     Number of fw dumps now can be limited by adding entry MAX_FW_DUMP=<num>
     in /vendor/etc/wifi/wlan_vendor.conf

2021-10-14 - v008.005

  *Interface will be made up(IF_UP) after fw is reloaded by IR.

2021-09-17 - v008.004

  *Support to generate fw dump files from vendor HAL
    -GKI kernels do not allow creating files using (vfs_mkdir) API's.
     Thus fw dump files can not be generated by drivers.
     Added support to generate fw_dump files from vendor hal.
     Dump files will be stored at /data/vendor/wifi/wifi_dumps
     This feature needs sepolicy changes to allow wifi_hal reading from procfs
     and read/write/create files in /data/vendor

2021-07-30 - v008.003

  *Support for Independant Reset:
    -To Enable fw reload by in band IR, define SUPPORT_INBAND_IR in
     common.h file. Enabling this, vendor hal will trigger IR when
     firmware/driver are in hang state and driver sends hang message
     to vendor HAL through cfg80211 layer.
     [By Default, it is enabled in HAL. To disable, define it to false]
     Tested on SD8987.
